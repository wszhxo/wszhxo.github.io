---
title: éª‘å£«å‘¨æ¸¸(é©¬è¸æ£‹ç›˜)é—®é¢˜
categories:
  - javaåŸºç¡€
tags:
  - æ•°æ®ç»“æ„
  - å›æº¯
  - ç©·ä¸¾
abbrlink: 96400150
---


ä¼—æ‰€å‘¨çŸ¥ï¼ŒğŸèµ°æ³•æ˜¯æŒ‰æ—¥å­—å½¢çŠ¶ï¼Œé©¬è¸æ£‹ç›˜é—®é¢˜å°±æ˜¯è¦æ±‚ğŸèƒ½èµ°éæ‰€æœ‰çš„æ£‹ç›˜ç‚¹

åˆ©ç”¨äº†å›æº¯å’Œç©·ä¸¾çš„æ€æƒ³ï¼Œæ€§èƒ½ä¸æ˜¯æœ€å¥½çš„ï¼

<!--more-->

## æ€è·¯

- ç±»ä¼¼äºä¸€ä¼ åï¼Œåä¼ ç™¾ï¼Œç™¾ä¼ åƒçš„æ„æ€ï¼Œç›´åˆ°æ‰¾å‡ºè¦†ç›–äº†6x6=36çš„ä¸€ç§èµ°æ³•æ‰ç®—ç»“æŸç”¨ä¸€ä¸ªbooleanç±»å‹æ ‡å¿—ä½è®°å½•
- äºŒç»´æ•°ç»„è¡¨ç¤ºæ£‹ç›˜ï¼ŒArrayListä¿å­˜ä¸€ä¸ªç‚¹èƒ½è·³çš„å…¶ä»–ç‚¹çš„æ•°é‡ï¼Œboolean[] ä¸€ç»´æ•°ç»„è¡¨ç¤º36ä¸ªç‚¹æ˜¯å¦å·²è®¿é—®

![1570001215658](é©¬è¸æ£‹ç›˜é—®é¢˜/1570001215658.png)

## ä»£ç 



```java
// æ£‹ç›˜
class ChessBoard {
	int size;// æ£‹ç›˜å®½é«˜,æŒ‰ç†è¯´æ˜¯æ­£æ–¹å½¢
	int[][] arr;// æ£‹ç›˜
	boolean[] isVisited;// è®°å½•æ£‹ç›˜æŸåœ°æ˜¯å¦è¢«è®¿é—®å¤§å°sizeå¹³æ–¹
	boolean finished;// è®°å½•æ£‹ç›˜æ˜¯å¦å…¨éƒ¨è¢«è®¿é—®

public ChessBoard(int size) {
	this.size=size;
	isVisited = new boolean[size * size];
	arr = new int[size][size];
	finished = false;
}

// arr:æ£‹ç›˜ x:è¡Œ y:åˆ— size:å®½é«˜ step:è®¿é—®é¡ºåº
public void horse(int[][] arr, int x, int y, int step) {
	arr[x][y] = step;// ä¿å­˜æ­¥æ•°
	isVisited[x * size + y] = true;// è¡¨ç¤ºå·²ç»è®¿é—®è¿‡
	// è¡¨ç¤ºè¯¥æ£‹å­èƒ½èµ°çš„ç‚¹çš„ä¸ªæ•°
	ArrayList<Point> list = next(new Point(x, y));
	// åªè¦å¯ä»¥èµ°å°±éå†
	while (!list.isEmpty()) {
		// æ‹¿å‡ºå¯ä»¥èµ°çš„ä½ç½®,æ‹¿å…‰ä¸ºæ­¢
		Point point = list.remove(0);
		// æ²¡è®¿é—®è¿‡
		if (!isVisited[point.x * size + point.y]) {
			horse(arr, point.x, point.y, step + 1);
		}
	}
	// å¾ªç¯ç»“æŸæ„å‘³ç€,æ‰€æœ‰è·¯å¾„è®¿é—®å®Œæ¯•
	if (step < isVisited.length && !finished) {
		// è¡¨ç¤ºèµ°ä¸é€š,æ¢å¤åˆå§‹,å³å›æº¯
		finished = false;
		arr[x][y] = 0;
		isVisited[x * size + y] = false;
	} else {
		finished = true;
	}
}

// æ¯ä¸ªç‚¹çš„ä¸‹ä¸€ä¸ªä½ç½®æœ€å¤šæœ‰8ä¸­æƒ…å†µ
public  ArrayList<Point> next(Point point) {
	ArrayList<Point> ps = new ArrayList<Point>();
	Point p1 = new Point();
	if ((p1.x = point.x - 2) >= 0 && (p1.y = point.y - 1) >= 0) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x - 1) >= 0 && (p1.y = point.y - 2) >= 0) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x + 1) < size && (p1.y = point.y - 2) >= 0) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x + 2) < size && (p1.y = point.y - 1) >= 0) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x + 2) < size && (p1.y = point.y + 1) < size) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x + 1) < size && (p1.y = point.y + 2) < size) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x - 1) >= 0 && (p1.y = point.y + 2) < size) {
		ps.add(new Point(p1));
	}
	if ((p1.x = point.x - 2) >= 0 && (p1.y = point.y + 1) < size) {
		ps.add(new Point(p1));
	}
	return ps;
}
}
```
## æµ‹è¯•ç±»

```java
public static void main(String[] args) {
		ChessBoard chessBoard = new ChessBoard(6);
		long start = System.currentTimeMillis();
		chessBoard.horse(chessBoard.arr, 1, 4, 1);
		long end = System.currentTimeMillis();
		System.out.println("å…±è€—æ—¶: " + (end - start) + " æ¯«ç§’");
			for(int[] rows : chessBoard.arr) {
				for(int step: rows) {
					System.out.print(step + "\t");
				}
				System.out.println();
			}
	}
```

## è¾“å‡º

```java

å…±è€—æ—¶: 15 æ¯«ç§’
8	23	2	21	32	25	
3	14	9	24	1	20	
10	7	22	31	26	33	
15	4	13	28	19	30	
36	11	6	17	34	27	
5	16	35	12	29	18	

```

**å…¶å®è¿™é‡Œåªèµ°äº†35æ­¥,å› ä¸º1åˆ°2çš„ä½ç½®ç®—èµ°ä¸€æ­¥,é‚£ä¹ˆåˆ°36å°±æ˜¯35æ­¥,è¿˜å·®ä¸€æ­¥,æœ€åæ•°å­—1 çš„ä½ç½®æ˜¯ç©ºå‡ºæ¥çš„é‚£ä¹ˆ,å°±æ˜¯é”™è¯¯çš„,æ˜¯å› ä¸ºç­–ç•¥çš„é—®é¢˜,å°±æ˜¯ä¸€ä¸ªæ£‹å­èµ°ä¸‹ä¸€æ­¥çš„å¯èƒ½æ€§çš„é€‰æ‹©é¡ºåºé—®é¢˜**

## ä¼˜åŒ–

![1570007316424](é©¬è¸æ£‹ç›˜é—®é¢˜/1570007316424.png)

### éé€’å‡æ’åº

7 7 3 3 1 0 ,æ„æ€å°±æ˜¯æœ‰é‡å¤å…ƒç´ ,è€Œä¸”æ˜¯é€’å‡çš„

å¯¹æ¯ä¸€æ¬¡çš„é›†åˆéƒ½è¿›è¡Œæ‰€ä»¥æ­¤æ—¶é›†åˆå›¾ä¸­æ ‡è®°çš„é¡ºåº,å› ä¸ºä»–ä»¬çš„ä¸‹ä¸€æ­¥å¯èƒ½æ€§ä¸ªæ•°æ˜¯ 7 7 3 3 ,ä»1å¼€å§‹æ‰¾,å¾ªç¯å¾€å¤,é€Ÿåº¦å¤§å¤§æå‡

## æ·»åŠ æ¯”è¾ƒæ–¹æ³•

```java
public  void sort(ArrayList<Point> ps) {
		ps.sort(new Comparator<Point>() {
			@Override
			public int compare(Point o1, Point o2) {
				//è·å–åˆ°o1çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰ä½ç½®ä¸ªæ•°
				int count1 = next(o1).size();
				//è·å–åˆ°o2çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰ä½ç½®ä¸ªæ•°
				int count2 = next(o2).size();
				if(count1 < count2) {
					return -1;
				} else if (count1 == count2) {
					return 0;
				} else {
					return 1;
				}
			}
		});
	}
```

## ä¿®æ”¹horseæ–¹æ³•

```java
public  void sort(ArrayList<Point> ps) {
		ps.sort(new Comparator<Point>() {

			@Override
			public int compare(Point o1, Point o2) {
				//è·å–åˆ°o1çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰ä½ç½®ä¸ªæ•°
				int count1 = next(o1).size();
				//è·å–åˆ°o2çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰ä½ç½®ä¸ªæ•°
				int count2 = next(o2).size();
				if(count1 < count2) {
					return -1;
				} else if (count1 == count2) {
					return 0;
				} else {
					return 1;
				}
			}
			
		});
	}
```

