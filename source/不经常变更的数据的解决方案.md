---
title: 模拟缓存的解决方法
categories:
  - SpringBoot
abbrlink: 976142032
---

# 不经常变更的数据(类似缓存)的解决方案

由于SpringBoot项目中菜单,网站配置相关信息不经常变动,为了减轻数据库的负担,我考虑用了Redis,但是,我还得安装,想一想,决定用类似servlet中init方法的

用到注解@PostConstruct

<!--more-->

## 只执行一次init并放到一个静态变量中

```java
@Configuration
public class IndexUtils {
    @Resource
    private IndexMapper IndexMapper;
    public  static List<Menu> menuList;
    @PostConstruct
    public void init() {
        System.out.println("111111111111111");
        menuList = IndexMapper.listMenu();
    }

}
```

**为了证明只执行一次我输出字符串111**

```java

 @RequestMapping("/")
    public String index(Model model){
        final List<Menu> menuList = IndexUtils.menuList;
        model.addAttribute("listMenu",menuList);
        return "index";
    }
    //关于我
    @RequestMapping("/aboutme")
    public String aboutme(Model model){
        final List<Menu> menuList = IndexUtils.menuList;
        model.addAttribute("listMenu",menuList);
        return "aboutme";
    }
    //时间轴
    @RequestMapping("/time")
    public String time(Model model){
        final List<Menu> menuList = IndexUtils.menuList;
        model.addAttribute("listMenu",menuList);
        return "time";
    }
```

每次执行调用工具类中的变量就可以了





